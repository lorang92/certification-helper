<!DOCTYPE html>
<html>
<head>

    <title>Using Google Maps with the HTML5 Geolocation API</title>

    <style type="text/css">
        #mapContainer {
            height: 600px;
            width: 800px;
            border: 4px solid orange;
            border-radius: 5px;
            box-shadow: 10px 10px 10px gray;
        }
    </style>

    <!-- Include the Google maps JavaScript file, "http://maps.google.com/maps/api/js?sensor=false" -->
    <script src="http://maps.google.com/maps/api/js?sensor=false"></script>


    <script type="text/javascript">

        function init() {

            if(navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(onPositionUpdate, onPositionUpdateError)
            }else {
                alert("Geolocation not enabled...");
            }
        }


        var onPositionUpdate = function(e) {
            console.log(e.coords.latitude + " " + e.coords.longitude);
            var location = new google.maps.LatLng(e.coords.latitude, e.coords.longitude);
            var mapOptions = {
                zoom: 15,
                center: location,
                mapTypeControl: true,
                navigationControlOption: google.maps.NavigationControlStyle.SMALL,
                mapTypeId: google.maps.MapTypeId.SATELLITE    
            }
            var map = new google.maps.Map(document.getElementById("mapContainer"), mapOptions);
            var marker = new google.maps.Marker({
                position: location,
                map: map,
                title: 'Hello World!'
            });
        };

        var onPositionUpdateError = function(e) {
            alert("Something went wrong trying to update your position...");
        };


    </script>
</head>

<body onload="init()">
    <div id="mapContainer"></div>
</body>
</html>
