<!DOCTYPE html>
<html>
<head>

    <title>Using Google Maps with the HTML5 Geolocation API</title>

    <style type="text/css">
        #mapContainer {
            height: 600px;
            width: 800px;
            border: 4px solid orange;
            border-radius: 5px;
            box-shadow: 10px 10px 10px gray;
        }
    </style>

    <script src="http://maps.google.com/maps/api/js?sensor=false"></script>

    <script type="text/javascript">

        function init() {

            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(currentPositionCallback);
            }
            else {
                alert("Geolocation API is not supported in your browser.");
            }
        }


        // Callback function, for the geolocation API call.
        function currentPositionCallback(position) {

            var coords = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);

            var mapOptions = {
                zoom: 17,
                center: coords,
                mapTypeControl: true,
                navigationControlOptions: {
                    style: google.maps.NavigationControlStyle.SMALL
                },
                mapTypeId: google.maps.MapTypeId.SATELLITE
            };

            var map = new google.maps.Map(document.getElementById("mapContainer"), mapOptions);

            var marker = new google.maps.Marker({
                position: coords,
                map: map,
                title: "Your current location!"
            });
        }

    </script>
</head>

<body onload="init()">
    <div id="mapContainer"></div>
</body>
</html>
